!function(){window.theboardUtils={messages:{error:{}},handleError:function(e){document.body.innerHTML='<div class="widget-error">Widget on error!</div>',console.error(e)},resetSignal:function(){window.location.hash="#"},getUrlVars:function(){var e,n=[],t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=t[t.length-1].lastIndexOf("#");i=i>-1?i:t[t.length-1].length,t[t.length-1]=t[t.length-1].substring(0,i);for(var o=0;o<t.length;o++)e=t[o].split("="),e.length>1&&(n.push(e[0]),n[e[0]]=decodeURIComponent(e[1].replace("+"," ")));var r=window.location.hash;if(r)for(var o=0;o<n.length;o++)n[n[o]]=n[n[o]].replace(window.location.hash,"");return n},checkValidityOfJsonFromUrl:function(e){try{return JSON.parse(e)}catch(n){return!1}},convertUnixTsToDate:function(e){var n=new Date(1e3*e);return n}}}(),function(){var e=function(){var e=window.theboardUtils;this.loadWidgetConfiguration=function(n){if(console.log(n),n&&"object"==typeof n){if(n.widget&&n.widget.configuration){var t=n.widget;return t.configuration}}else console.log("No substitute configuration provided by user. Use default library configuration!");var i=e.getUrlVars();if(!i.widget)throw new Error("No widget configuration specified into URL");if(!e.checkValidityOfJsonFromUrl(i.widget))throw new Error("Please specify a valid widget configuration");return JSON.parse(i.widget)}};window.configHelper=new e}();var test=function(){};(function(){"use strict";var e={INIT:"init",REFRESH:"refresh",STOP:"stop",START:"start"},n=window.configHelper,t=window.theboardUtils,i=function(){function i(e){window.location.hash&&document.dispatchEvent(new Event("widget.hash.received")),window.onhashchange=function(){null!=window.location.hash&&""!=window.location.hash&&document.dispatchEvent(new Event("widget.hash.received"))};var t=n.loadWidgetConfiguration(e);console.debug("module trigger widget.ready with",t),document.dispatchEvent(new CustomEvent("widget.ready",{detail:t}))}function o(n){var i=window.location.hash.substring(1),o=JSON.parse(decodeURIComponent(i));o.signal===e.REFRESH&&(t.resetSignal(),document.dispatchEvent(new Event("widget.refresh"))),o.signal===e.STOP&&(t.resetSignal(),document.dispatchEvent(new Event("widget.stop"))),o.signal===e.START&&(t.resetSignal(),document.dispatchEvent(new Event("widget.start")))}document.addEventListener("widget.hash.received",o,!1),this.start=function(e){i(e)}};window.theBoardModule=new i}).call(this);