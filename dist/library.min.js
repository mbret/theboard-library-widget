!function(){window.theboardUtils={messages:{error:{}},handleError:function(n){document.body.innerHTML='<div class="widget-error">Widget on error!</div>'},resetSignal:function(){window.location.hash="#"},getUrlVars:function(){var n,e=[],t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=t[t.length-1].lastIndexOf("#");i=i>-1?i:t[t.length-1].length,t[t.length-1]=t[t.length-1].substring(0,i);for(var o=0;o<t.length;o++)n=t[o].split("="),n.length>1&&(e.push(n[0]),e[n[0]]=decodeURIComponent(n[1].replace("+"," ")));var r=window.location.hash;if(r)for(var o=0;o<e.length;o++)e[e[o]]=e[e[o]].replace(window.location.hash,"");return e},checkValidityOfJsonFromUrl:function(n){try{return JSON.parse(n)}catch(e){return!1}},convertUnixTsToDate:function(n){var e=new Date(1e3*n);return e}}}(),function(){var n=function(){var n=window.theboardUtils;this.loadWidgetConfiguration=function(e){if(e&&"object"==typeof e&&e.widget&&e.widget.configuration){var t=e.widget;return t.configuration}var i=n.getUrlVars();if(!i.widget)throw new Error("No widget configuration specified into URL");if(!n.checkValidityOfJsonFromUrl(i.widget))throw new Error("Please specify a valid widget configuration");return JSON.parse(i.widget)}};window.configHelper=new n}(),function(){"use strict";var n={INIT:"init",REFRESH:"refresh",STOP:"stop",START:"start"},e=window.configHelper,t=window.theboardUtils,i=function(){function i(n){window.location.hash&&document.dispatchEvent(new Event("widget.hash.received")),window.onhashchange=function(){null!=window.location.hash&&""!=window.location.hash&&document.dispatchEvent(new Event("widget.hash.received"))};var t=e.loadWidgetConfiguration(n);document.dispatchEvent(new CustomEvent("widget.ready",{detail:t}))}function o(e){var i=window.location.hash.substring(1),o=JSON.parse(decodeURIComponent(i));o.signal===n.REFRESH&&(t.resetSignal(),document.dispatchEvent(new Event("widget.refresh"))),o.signal===n.STOP&&(t.resetSignal(),document.dispatchEvent(new Event("widget.stop"))),o.signal===n.START&&(t.resetSignal(),document.dispatchEvent(new Event("widget.start")))}document.addEventListener("widget.hash.received",o,!1),this.start=function(n){i(n)}};window.theBoardModule=new i}.call(this);